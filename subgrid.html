<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS Grid with Subgrid</title>
  <style>
.TutorialMiniCard img{
  width: 200px;
  margin: auto; /* Center the image horizontally within the item */
  display: block; /* Remove extra spacing below image */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  
}

.outer-container {
      display: flex;
      align-items: center;
    }

#TutorialCarousel {
  display: flex;
  justify-content: space-between;
  overflow-x: auto; /* Enable horizontal scrolling if the content overflows */
}

.TutorialMiniCard {
  /* Existing styling for each card */
  flex: 1; /* This makes all items equal in size */
  border: 1px solid #ccc;
  padding: 20px;
  box-sizing: border-box;
  text-align: justify;
  
  /* New styling for hover effect */
  cursor: pointer;
}



.TutorialMiniCard:hover img{
    transition: transform 0.2s ease-in-out, flex-grow 0.2s ease-in-out; /* Add a smooth transition effect */
    transform: scale(1.2);
    margin-bottom: 2px;
}

hr {

  color:rgb(190, 0, 190);

}


.left-arrow, .right-arrow {
      font-size: 44px;
      margin: 5px;
      cursor: pointer;
    }





.ccont
{
  border-top-right-radius: 25px;
  height: 90%;
  width: 90%;
}



/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 20px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */

}

/* Modal Content */
.modal-content {
    border-radius: 10px 10px 10px 10px;
-webkit-border-radius: 10px 10px 10px 10px;
-moz-border-radius: 10px 10px 10px 10px;
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #000000;
  width: 80%;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}





nav .title-and-version h1,nav .title-and-version .h1{
    display:inline-block;
    margin-right:0
}
nav .title-and-version p.version-tag{
    display:inline-block;
    font-size:.875rem;
    margin-bottom:0;
    margin-left:6px
}
nav .title-and-version p.version-tag a{
    color:#aaa
}
nav h1,nav .h1{
    padding:8px;
    margin:0px 2rem;
    font-size:1.5rem;
    font-weight:700;
    color:#fff
}
nav h1:hover,nav .h1:hover,nav li:hover{
    background-color:#44b;
    border-radius:4px
}
nav ul{
    margin:0
}
nav ul li{
    display:inline-block;
    margin-right:2rem;
    padding:8px;
    font-size:1.25rem;
    color:#fff;
    cursor:pointer;
    -webkit-user-select:none;
    user-select:none
}
nav ul li a{
    color:#fff
}

.version-tag{
    color: #aaa;
    text-decoration: none;
}

.text-wrap{
    vertical-align: middle;
    display:inline-block;
    width:75%;
}
.text-wrap p {
    vertical-align: middle;
    display: inline-block;
}


.ipad {
    vertical-align: middle;
    display: inline-block;
    width: 24%;

}

    .container {
      display: grid;
      grid-template-areas:
        'nav'
        'header'
        'divider'
        'main'
        'footer';
      grid-template-rows: auto 1fr auto;
      min-height: 100vh;
    }

    header {
      grid-area: header;
      display: grid;
      text-align: center;
      grid-template-columns: 1fr 2fr; /* One third and Two thirds */
      align-items: center;
            background-position: 55% 40%;
             background-image: url('IMG_20230511_182016_068-1-scaledz(1).jpg');
             background-size: 50%;
            background-size: cover;
            height: 60vh;
    }


    header p{
        font-weight: bold;
        text-shadow: 1px 0px 0px rgba(255,255,255,0.8);

    }

    @media only screen and (max-width: 768px) {
        header {

            grid-template-columns: 1fr; /* One third and Two thirds */
            height: 100vh;
            }
        }


     nav {
      grid-area: nav;
      background-color: #228;
  color: #fff;
  padding: 4px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  margin: 0px;

    }

    .divider {
      grid-area: divider;
      height: 100%;
    line-height: 0;
    margin-top: -4%;
    }


    main {
      grid-area: main;
      padding: 20px;
    }

    footer {
      grid-area: footer;
      text-align: center;
      padding: 10px;
      background-color: #333;
      color: white;
    }


    .cbody
{
  margin: auto;
  position: relative;
  display: inline-block;
  height: 150px;
  width: 250px;
  text-align: center;
}
.cmain
{
  height: 140px;
  border-top-right-radius: 25px;
  border-top-left-radius: 25px;
  background-color: black;
}
.ctop
{
  display: inline-block;
  width: 25%;
}

.ccontentwrap
{
 
  display: inline-block;
  margin-top: 12.5px;
  width: 230px;
  height: 125px;
  background-color: rgba(76, 76, 76, 0.42);
  text-align: center;
}

.ccontent
{
  width: 1280px;
  height: 700px;
  -webkit-transform-origin: 0 0;
  transform-origin: 0 0;
  transform: scale(.18);

}

.ccont
{
  border-top-right-radius: 25px;
  height: 90%;
  width: 90%;
}

.cbottom
{
  height: 25px;
  border-bottom-right-radius: 25px;
  border-bottom-left-radius: 25px;
  background: linear-gradient(35deg, rgb(114, 114, 114), rgb(197, 197, 197), rgb(218, 218, 218));
  border-bottom: 1px solid rgb(92, 91, 91);

}

.cleg
{
  display: inline-block;
  vertical-align: top;
  width: 50px;
  height: 25px;
  background: linear-gradient(0deg, rgb(114, 114, 114), rgb(255, 255, 255), rgb(197, 197, 197), rgb(114, 114, 114));
  -webkit-clip-path: polygon(10% 0%, 90% 0%, 100% 100%, 0% 100%);
  clip-path: polygon(10% 0%, 90% 0%, 100% 100%, 0% 100%);
}

.cfoot
{
  display: inline-block;
  vertical-align: top;
  width: 65px;
  height: 10px;
  background: linear-gradient(0deg, rgb(197, 197, 197), rgb(197, 197, 197), rgb(114, 114, 114));
  -webkit-clip-path: polygon(5% 0%, 95% 0%, 100% 100%, 0% 100%);
  clip-path: polygon(12% 0%, 88% 0%, 100% 100%, 0% 100%);
  border-bottom-right-radius: 45px;
  border-bottom-left-radius: 55px;
  border-bottom: 2px solid rgb(114, 114, 114);
}

  </style>
</head>
<body>

  <div class="container">


    <nav ><span class="title-and-version"><a href="/app/"><h1>Pytch</h1></a><a class="version-tag" href="/doc/releases/changelog.html">v1.11.1</a></span><ul><a href="https://pytch.scss.tcd.ie/"><li>About Pytch</li></a><a href="/doc/index.html"><li>Help</li></a><a href="/app/tutorials/"><li>Tutorials</li></a><a href="/app/my-projects/"><li>My projects</li></a></ul>
    </nav>













    <header>
        <section class="subgrid-text">
          <h1>Welcome to Pytch!</h1>
          <p>Pytch is a bridge from Scratch to Python.</p>

          <p>It helps people to learn Python by building on skills they have developed in Scratch.</p>

        </section>
        <section class="subgrid-video">
        

          <p> Scratch Scratch Scratch Scratch Scratch Scratch Scratch Scratch Scratch Scratch Scratch Scratch.</p>



        <div class="cbody">
          <div class="cmain">
            <div class="ccontentwrap">
              <div class="ccontent">
                <button id="myBtn" aria-label="Video overview of Pytch">
                 
                
                    <img class="ccont" src="preview.png" alt="" title="Click here for an overview of Pytch!" />

                 
                </button>
               


              </div>
            </div>
          </div>
          <div class="cbottom">
          </div>
          <div class="cleg">
          </div>
          <div class="cfootwrap">
            <div class="cfoot">
            </div>
          </div>
        </div>
      </section>

      </header>
      <div class="first divider">
        <img class="ipad" src="box2.png" />
        <div class="text-wrap">
            <p></p>
            <hr />
            <p></p>
        </div> 
    </div>

    <main>
      <!-- Your main content goes here -->

      <div style="display:none" class="demo-cards">
        <section role="alert" class="fade TutorialMiniCard alert alert-success show">
          <h2>Catch a star</h2>
          <p>
            <img class="screenshot enabled" src="0.png" alt="screenshot of Catch a star">
            </p>
            <p>In this introduction to coding in Pytch, you control a bird using the keyboard, and your job is to catch the star.</p>
        </section>
        <section role="alert" class="fade TutorialMiniCard alert alert-success show">
          <h2>Boing</h2>
          <p>
            <img class="screenshot enabled" src="1.png" alt="screenshot of Boing">
            </p>
            <p>In the game 
              <i>Pong</i> from 1972, players hit a ball back and forth. Our 
              <i>Boing</i> game, adapted from one in 
              <a href="https://wireframe.raspberrypi.org/books/code-the-classics1">Code the Classics</a>, lets you play against the computer.
            </p>
        </section>
        <section role="alert" class="fade TutorialMiniCard alert alert-success show">
          <h2>Q*bert</h2>
          <p>
            <img class="screenshot enabled" src="2.png" alt="screenshot of Q*bert">
            </p>
            <p>Jump around a pyramid of blocks, trying to change the whole stack yellow without falling off! Our version is adapted from one in 
              <a href="https://wireframe.raspberrypi.org/issues/42">Wireframe magazine</a>, inspired by the 1982 arcade classic.
            </p>
        </section>
        <section role="alert" class="fade TutorialMiniCard alert alert-success show">
          <h2>Splat the moles</h2>
          <p>
            <img class="screenshot enabled" src="3.png" alt="screenshot of Splat-The-Moles">
            </p>
            <p>A game where the player has to splat moles to score points. But if they miss, they lose all their points!
            </p>
        </section>
    
      </div>
      <div class="outer-container">
        <div class="left-arrow">&#x276C;</div>
        <div id="TutorialCarousel">Next</div>
        <div class="right-arrow">&#x276D;</div>
      </div>
    </main>
    <footer>
      Footer
    </footer>
  </div>




    <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
          <span aria-label="Close" class="close">&times;</span>
          <video class="ccont" controls data-toggle="lightbox">
                      
            <source src="Overview.mp4" type="video/mp4" />
    
          </video>
        </div>
      
      </div>

</body>

<script>

/*
window.onload = function(){ 

 let elem = document.querySelector("#gridwrapper");
 let sidebar = document.querySelector("aside");
 let belowbar = document.querySelector("#below_map");
 let screen_small = window.matchMedia("(min-width: 500px)");
 let screen_medium = window.matchMedia("(min-width: 600px)");

 if (screen_medium.matches) {
     elem.setAttribute("class", "grid_medium")
 }

}


*/







// Create an array to store the objects
let cards = [];
const window_size = 3;
const window_focus = 1;
let window_position = 0;

// Find all elements with the class "TutorialMiniCard"
let tutorialMiniCards = document.querySelectorAll('.TutorialMiniCard');

// Iterate through each element and build the object with node and children
tutorialMiniCards.forEach((element) => {
  let nodeObject = {
    node: element,
    children: Array.from(element.children)
  };

  // Push the object to the array
  cards.push(nodeObject);
});



// Now cards contains the objects with node and children for each element with the class "TutorialMiniCard"
console.log(cards);



// Event listener for keydown event
document.addEventListener('keydown', (event) => {
  if (event.key === 'ArrowRight' || event.key === 'ArrowLeft') {
    // Handle right or left arrow key press
    handleArrowKeyPress(event.key);
  }
});


const rightArrowElement = document.querySelector('.right-arrow');
if (rightArrowElement) {
  rightArrowElement.addEventListener('click', () => {
    // Handle click on right arrow element
    handleArrowKeyPress('ArrowRight');
  });
}
const leftArrowElement = document.querySelector('.left-arrow');
if (leftArrowElement) {
  leftArrowElement.addEventListener('click', () => {
    // Handle click on right arrow element
    handleArrowKeyPress('ArrowRight');
  });
}


function handleArrowKeyPress(key) {
  console.log(`Arrow key pressed: ${key}`);
  const tutorialCarousel = document.getElementById('TutorialCarousel');

  if (tutorialCarousel) {
    // Clear existing children
    tutorialCarousel.innerHTML = '';

    // Create a document fragment
    const fragment = document.createDocumentFragment();

    for (let i = window_position, steps = window_size; steps > 0; steps--) {
      // Append the child element to the fragment
      fragment.appendChild(cards[i].node);
      console.log(cards[i]);

      // Adjust the index based on the arrow key
      if (key === 'ArrowRight') {
        i = (i + 1) % cards.length; // Increment for right arrow
      } else if (key === 'ArrowLeft') {
        i = (i - 1 + cards.length) % cards.length; // Decrement for left arrow
      }
    }

    // Append the fragment to "TutorialCarousel" in a single operation
    tutorialCarousel.appendChild(fragment);
  } else {
    console.error('TutorialCarousel not found.');
  }

  // Update the window_position based on the arrow key
  if (key === 'ArrowRight') {
    window_position = (window_position + 1) % cards.length; // Increment for right arrow
  } else if (key === 'ArrowLeft') {
    window_position = (window_position - 1 + cards.length) % cards.length; // Decrement for left arrow
  }
}


</script>
<script>
    // Get the modal
    let modal = document.getElementById("myModal");
    
    // Get the button that opens the modal
    let btn = document.getElementById("myBtn");
    
    // Get the <span> element that closes the modal
    let span = document.getElementsByClassName("close")[0];
    
    // When the user clicks the button, open the modal 
    btn.onclick = function() {
      modal.style.display = "block";
    }
    
    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
      modal.style.display = "none";
    }
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
    </script>
</html>
